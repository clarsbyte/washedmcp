@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme {
  /* ==========================================
     CLEAN PROJECT - DESIGN SYSTEM
     Granola-Inspired, Teal/Blue Palette
     ========================================== */

  /* Font Families */
  /* Use the dynamically loaded Next.js Playfair font via its CSS variable,
     with system serif fallbacks. */
  --font-sans: var(--font-playfair), "SF Pro", ui-serif, Georgia, serif;

  /* ==========================================
     COLOR PALETTE
     ========================================== */

  /* Backgrounds */
  --color-background: #fafbfc;
  --color-surface: #ffffff;
  --color-border: #e5eaef;

  /* Accents (Teal/Blue Range) */
  --color-primary: #0ea5e9;
  --color-primary-hover: #0284c7;
  --color-secondary: #06b6d4;
  --color-tertiary: #14b8a6;

  /* Text */
  --color-text-primary: #1e293b;
  --color-text-secondary: #64748b;
  --color-text-tertiary: #94a3b8;

  /* Landing compatibility tokens */
  --color-foreground: #1e293b;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #64748b;
  --color-accent: #06b6d4;
  --color-accent-foreground: #ffffff;
  --color-card: #ffffff;
  --color-card-foreground: #1e293b;
  --color-popover: #ffffff;
  --color-popover-foreground: #1e293b;
  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;
  --color-input: #e5eaef;
  --color-ring: #0ea5e9;
  --color-primary-foreground: #ffffff;
  --color-secondary-foreground: #0f172a;

  /* Semantic Colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* MCP Node Colors (cycle through for different MCPs) */
  --color-node-1: #0ea5e9;
  --color-node-2: #06b6d4;
  --color-node-3: #8b5cf6;
  --color-node-4: #ec4899;
  --color-node-5: #f59e0b;
  --color-node-6: #10b981;

  /* Context Node */
  --color-context-node: #64748b;

  /* Clean Central Node */
  --color-clean-node: #0ea5e9;

  /* ==========================================
     DESIGN TOKENS
     ========================================== */

  /* Border Radius (minimal but present - 6px everywhere) */
  --radius-sm: 6px;
  --radius-md: 6px;
  --radius-lg: 6px;
  --radius: 6px;

  /* Shadows (minimal, subtle only) */
  --shadow-subtle: 0 1px 3px oklch(0 0 0 / 0.08);
  --shadow-modal: 0 8px 24px oklch(0 0 0 / 0.12);
  --shadow-clean-glow: 0 0 40px oklch(from #0ea5e9 l c h / 0.4);

  /* Transitions */
  --transition-fast: 150ms;
  --transition-base: 200ms;
  --transition-smooth: 300ms;
  --transition-graph: 800ms;
  --transition-sidebar: 400ms;

  /* Animation Easing */
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ==========================================
   CUSTOM UTILITIES
   ========================================== */

@utility glass {
  background: oklch(1 0 0 / 0.05);
  backdrop-filter: blur(20px);
}

/* ==========================================
   BASE STYLES
   ========================================== */

body {
  background: var(--color-background);
  color: var(--color-text-primary);
  font-family: var(--font-sans);
  font-weight: 400;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus visible for accessibility */
*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
}

@media (hover: hover) and (pointer: fine) {
  .landing-page,
  .landing-page * {
    cursor: none !important;
  }
}

.noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

@keyframes gradient-rotate {
  0% {
    --gradient-angle: 0deg;
  }
  100% {
    --gradient-angle: 360deg;
  }
}

@property --gradient-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

.gradient-border {
  position: relative;
  background: var(--color-surface);
  border-radius: 1.5rem;
}

.gradient-border::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  padding: 2px;
  background: conic-gradient(
    from var(--gradient-angle),
    oklch(from var(--color-primary) l c h),
    oklch(from var(--color-secondary) l c h),
    oklch(from var(--color-tertiary) l c h),
    oklch(from var(--color-primary) l c h)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: gradient-rotate 4s linear infinite;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.gradient-border:hover::before {
  opacity: 1;
}

.glow {
  box-shadow:
    0 0 20px oklch(from var(--color-primary) l c h / 0.3),
    0 0 40px oklch(from var(--color-primary) l c h / 0.2),
    0 0 60px oklch(from var(--color-primary) l c h / 0.1);
}

.spotlight-container {
  position: relative;
  overflow: hidden;
}

.spotlight-container::before {
  content: "";
  position: absolute;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, oklch(0.65 0.2 160 / 0.15) 0%, transparent 70%);
  transform: translate(-50%, -50%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.spotlight-container:hover::before {
  opacity: 1;
}

/* Text scramble effect */
@keyframes scramble {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--background);
}

::-webkit-scrollbar-thumb {
  background: var(--muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--muted-foreground);
}

/* Selection styling */
::selection {
  background: oklch(0.65 0.2 160 / 0.3);
  color: var(--foreground);
}
